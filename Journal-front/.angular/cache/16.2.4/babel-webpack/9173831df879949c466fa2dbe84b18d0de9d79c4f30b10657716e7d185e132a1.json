{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let LoginComponent = class LoginComponent {\n  constructor(fb, userService, router, authorService) {\n    this.fb = fb;\n    this.userService = userService;\n    this.router = router;\n    this.authorService = authorService;\n    this.errorFound = false;\n  }\n  ngOnInit() {\n    this.formLogin = this.fb.group({\n      email: this.fb.control(\"\"),\n      password: this.fb.control(\"\")\n    });\n  }\n  handleLogin() {\n    this.userService.login(this.formLogin.value).subscribe({\n      next: data => {\n        let specs = this.userService.getUserEmailAndRole(data);\n        let email = specs.email;\n        let role = specs.roles[0];\n        switch (role) {\n          case 'AUTHOR':\n            break;\n          case 'EDITOR':\n            break;\n          case 'REVIEWER':\n            break;\n        }\n        this.errorFound = false;\n      },\n      error: error => {\n        this.errorFound = true;\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);","map":{"version":3,"names":["Component","LoginComponent","constructor","fb","userService","router","authorService","errorFound","ngOnInit","formLogin","group","email","control","password","handleLogin","login","value","subscribe","next","data","specs","getUserEmailAndRole","role","roles","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\waela\\OneDrive\\Documents\\finalYearProject\\Journal-front\\src\\app\\login\\login.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\r\nimport {Router} from \"@angular/router\";\r\nimport {UserService} from \"../services/user/user.service\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit{\r\n\r\n  formLogin!:FormGroup ;\r\n  errorFound:boolean = false ;\r\n\r\n  constructor(private fb:FormBuilder , private userService:UserService , private router:Router ,\r\n              private authorService\r\n              ) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.formLogin = this.fb.group(\r\n      {\r\n        email : this.fb.control(\"\") ,\r\n        password : this.fb.control(\"\")\r\n      }\r\n    )\r\n  }\r\n    handleLogin() {\r\n\r\n        this.userService.login(this.formLogin.value).subscribe({\r\n                next: data => {\r\n                    let specs:any = this.userService.getUserEmailAndRole(data);\r\n                    let email:string = specs.email ;\r\n                    let role:string = specs.roles[0] ;\r\n                    switch (role){\r\n                      case 'AUTHOR':\r\n\r\n                        break;\r\n                      case 'EDITOR':\r\n\r\n                        break ;\r\n                      case 'REVIEWER':\r\n\r\n                        break ;\r\n                    }\r\n                    this.errorFound=false ;\r\n\r\n                }, error: error => {\r\n\r\n                    this.errorFound=true ;\r\n                }\r\n            }\r\n        ) ;\r\n\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAWxC,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAKzBC,YAAoBC,EAAc,EAAWC,WAAuB,EAAWC,MAAa,EACxEC,aAAa;IADb,KAAAH,EAAE,GAAFA,EAAE;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IACjE,KAAAC,aAAa,GAAbA,aAAa;IAHjC,KAAAC,UAAU,GAAW,KAAK;EAK1B;EACAC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACN,EAAE,CAACO,KAAK,CAC5B;MACEC,KAAK,EAAG,IAAI,CAACR,EAAE,CAACS,OAAO,CAAC,EAAE,CAAC;MAC3BC,QAAQ,EAAG,IAAI,CAACV,EAAE,CAACS,OAAO,CAAC,EAAE;KAC9B,CACF;EACH;EACEE,WAAWA,CAAA;IAEP,IAAI,CAACV,WAAW,CAACW,KAAK,CAAC,IAAI,CAACN,SAAS,CAACO,KAAK,CAAC,CAACC,SAAS,CAAC;MAC/CC,IAAI,EAAEC,IAAI,IAAG;QACT,IAAIC,KAAK,GAAO,IAAI,CAAChB,WAAW,CAACiB,mBAAmB,CAACF,IAAI,CAAC;QAC1D,IAAIR,KAAK,GAAUS,KAAK,CAACT,KAAK;QAC9B,IAAIW,IAAI,GAAUF,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC;QAChC,QAAQD,IAAI;UACV,KAAK,QAAQ;YAEX;UACF,KAAK,QAAQ;YAEX;UACF,KAAK,UAAU;YAEb;;QAEJ,IAAI,CAACf,UAAU,GAAC,KAAK;MAEzB,CAAC;MAAEiB,KAAK,EAAEA,KAAK,IAAG;QAEd,IAAI,CAACjB,UAAU,GAAC,IAAI;MACxB;KACH,CACJ;EAEL;CACH;AA7CYN,cAAc,GAAAwB,UAAA,EAL1BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACW3B,cAAc,CA6C1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}